package net.pds;

import java.sql.Connection;
import java.sql.PreparedStatement;
import java.sql.ResultSet;
import java.util.ArrayList;

import net.utility.DBClose;
import net.utility.DBOpen;

public class PdsDAO {
	private DBOpen dbopen=null;
	private Connection con=null;
	private PreparedStatement pstmt=null;
	private ResultSet rs=null;
	private StringBuilder sql=null;


public PdsDAO() {
	dbopen=new DBOpen();
}//end

public ArrayList<PdsDTO> list() {
	ArrayList<PdsDTO> list=null;
	try {
		con=dbopen.getConnection();
		sql=new StringBuilder();
		sql.append("");
		sql.append("");
		sql.append("");
		pstmt=con.prepareStatement(sql.toString());
		rs=pstmt.executeQuery();
		if (rs.next()) {
			list=new ArrayList<PdsDTO>();
			do {
				PdsDTO dto=new PdsDTO();
				dto.setPdsno(rs.getInt("pdsno"));
				dto.setWname(rs.getString("wname"));
				dto.setSubject(rs.getString("subject"));
				dto.setFilename(rs.getString("filename"));
				dto.setReadcnt(rs.getInt("readcnt"));
				dto.setRegdate(rs.getString("regdate"));
				list.add(dto);
			} while (rs.next());
		}//if
	} catch (Exception e) {
		System.out.println("포토갤러리 목록 실패 : "+e);
	} finally {
		DBClose.close(con, pstmt, rs);
	}//end
	return list;
}

}//class